---
title: "DDD全盛期だからこそ整理したいORMの機能と課題" # 記事のタイトル
emoji: "🏢" # アイキャッチとして使われる絵文字（1文字だけ）
type: "tech" # tech: 技術記事 / idea: アイデア記事
topics: ["ORM", "RDB"] # タグ。["markdown", "rust", "aws"]のように指定する
published: false # 公開設定（falseにすると下書き）
---

# DDD全盛期だからこそORMの立ち位置をちゃんと整理したい

## この記事を書くにあたってのきっかけ

日本のWeb開発界隈において、DDDや、クリーンアーキテクチャをベースとするクラス設計は、(私の観測範囲では)かなり一般的になってきたように感じています。
その一方で、中には
- 「DBに関する処理はリポジトリに限るべき」
- 「ORMの処理に依存した処理を避ける」
など、RDBを「ただの外部データソース」として扱うような風潮もあり、その点においては少し私は疑問を感じています。
Webアプリケーションにおいては、RDBは間違いなく「用意に代替できないオンリーワンの存在」であり「たくさんの文脈と課題を抱えた複雑なモノリス」でもあります。
これまでの10年がそうであったし、NoSQLをはじめとして、データを取り扱うための様々な新しい技術が生まれましたが、
それらが「RDBの機能をそっくり代替するものではない」事はおそらく明らかであり、これからの10年もRDBはサービス構成要素のデフォルトスタンダードとして君臨し続けると思っています。

そのように「絶対的に必要で、かつ複雑なもの」であるRDBをプログラム上で扱う中で、
どのような問題点があり、どのような方法論でORMが解決してきたか、と言うことについて今回はまとめてみたいと思います。

### インピーダンスミスマッチとカラムマッピング

### ボイラープレートと自動化

### リレーションとサブクエリの発行

### リポジトリ(テーブルクラス)とエンティティの分離

### EagerLoadとLazyLoad(ActiveRecordの負の遺産)

### マイグレーションとスキーマクラスの自動生成

### 外部IOとのミスマッチ解消、ユーザーとの対話（バリデーション）

#### レガシーWebにおけるバックエンドViewとフォーム時代の話

#### モダンWebにおけるSPAを前提としたAPI通信の話

